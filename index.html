<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>TCOS-2021 Assistant Chatbot</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background: #e6f0ff; /* Light blue background */
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            color: #003366;
        }

        header {
            margin-top: 2rem;
            max-width: 800px;
            text-align: center;
            padding: 0 1rem;
        }

        header h1 {
            margin-bottom: 0.25rem;
        }

        header p {
            font-size: 1.1rem;
            line-height: 1.5;
        }

        /* Centered JVVNL logo behind chat section */
        .logo-center {
            position: relative;
            margin: 2rem 0;
            width: 200px;
            height: 200px;
            opacity: 0.1;
            background: url('https://upload.wikimedia.org/wikipedia/en/thumb/1/17/JVVNL_logo.svg/512px-JVVNL_logo.svg.png') no-repeat center center;
            background-size: contain;
        }

        /* Chat bubble container fixed at bottom right */
        .chat-bubble {
            position: fixed;
            bottom: 40px;
            right: 40px;
            width: 60px;
            height: 60px;
            background-color: #0071bc; /* JVVNL blue */
            border-radius: 50%;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: width 0.3s ease, height 0.3s ease;
        }

        .chat-bubble img {
            width: 36px;
            height: 36px;
        }

        /* Chat window styling */
        .chat-window {
            position: fixed;
            bottom: 110px;
            right: 40px;
            width: 360px;
            height: 500px;
            border-radius: 10px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
            background-color: #e6f0ff;
            display: none;
            flex-direction: column;
            overflow: hidden;
            z-index: 1000;
        }

        /* Container where chatbot loads */
        #customgpt_chat {
            flex: 1;
            background: #e6f0ff;
        }
    </style>
</head>

<body>
    <header>
        <h1>TCOS-2021 Assistant Chatbot</h1>
        <p>
            The TCOS-2021 document covers critical technical and commercial operation standards that govern power utilities. This assistant chatbot helps you navigate the document, answer your questions, and guide you through relevant sections efficiently.
        </p>
    </header>

    <div class="logo-center" aria-hidden="true"></div>

    <div class="chat-bubble" id="chatBubble" aria-label="Open TCOS-2021 Assistant Chatbot" role="button" tabindex="0">
        <img src="https://upload.wikimedia.org/wikipedia/en/thumb/1/17/JVVNL_logo.svg/512px-JVVNL_logo.svg.png" alt="JVVNL Logo" />
    </div>

    <div class="chat-window" id="chatWindow" aria-label="TCOS-2021 Assistant Chatbot Window">
        <div id="customgpt_chat"></div>
    </div>

    <script src="https://cdn.customgpt.ai/js/embed.js" defer
        div_id="customgpt_chat"
        p_id="79457"
        p_key="b05e435589da9408b916f4138682cfac"></script>

    <script>
        const chatBubble = document.getElementById('chatBubble');
        const chatWindow = document.getElementById('chatWindow');

        // Toggle chat window on bubble click
        chatBubble.addEventListener('click', () => {
            if (chatWindow.style.display === 'flex') {
                chatWindow.style.display = 'none';
            } else {
                chatWindow.style.display = 'flex';
            }
        });

        // Accessibility: toggle chat window on Enter or Space key on bubble
        chatBubble.addEventListener('keydown', (event) => {
            if (event.key === 'Enter' || event.key === ' ') {
                event.preventDefault();
                chatBubble.click();
            }
        });
    </script>
</body>

</html>
